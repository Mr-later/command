在远程服务器上执行本地的shell脚本
ssh user@ip -C "/bin/bash" < test.sh

#A远程连接多个主机B1 B2 ,将在远程主机终端显示的信息输出在A主机中的log文件中
#在jenkins服务器上的version.sh脚本，将其在10.0.58.23上执行，输出日志在jenkins中与show.log
ssh -T user@ip  < version.sh >> show.log

应用一:
批量获取远程主机的 ~/.bash_profile  的最后一行
在搭建filebeat时，需要在~/.bash_profile中添加入serverip=本机ip。
由于网卡的名称不一致，过滤ip时写的获取方式有时获取不到正确的ip地址。
批量添加之后，如何验证是否全部添加成功？
在jenkins主机写获取 ~/.bash_profile  的最后一行的脚本，再批量在远程主机上执行即可。
#!/bin/bash
hostip=`tail -1  ~/.bash_profile`
echo $hostip
echo ''

ssh -T user@ip  < serverip.sh >> show.log
